name: Debug Spy

on:
  release:
    types: [published]

jobs:
  spy:
    runs-on: ubuntu-latest
    steps:
      - name: Dump GitHub Context
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: |
          echo "=== WHO TRIGGERED THIS? ==="
          echo "Actor: ${{ github.actor }}"
          echo "Triggering Actor: ${{ github.triggering_actor }}"
          echo "Ref (Tag Name): ${{ github.ref }}"
          echo "Event Name: ${{ github.event_name }}"
          
          echo "=== FULL CONTEXT ==="
          echo "$GITHUB_CONTEXT"